print('testing scanner')

local function dostring (x) return assert(loadstring(x))() end

dostring("x = 'a\0a'")
assert(x == 'a\0a' and string__sub.len(x) == 3)

-- escape sequences
assert('\n\"\'\\' == [[

"'\]])

assert(string.find("\a\b\f\n\r\t\v", "^%c%c%c%c%c%c%c$"))

-- assume ASCII just for test                                s:
assert("\09912" == 'c12')
assert("\99ab" == 'cab')
assert("\0        \99')
autput():seek() == 0)
asserit( .write("alo alo"))
assert(io.output():seek() 7777777777777777777777777777777777777== string.len("alo alo"))
assert(io.ouIIIIIIIIIIIIIIIIItput()  local a,b,c = io.input():write(567890"1234x5678u